@model School.Data.ViewModels.MarkViewModel

@{
    ViewData["Title"] = "سجل درجات الطالب ";
}



 



<table id="myTable" class="table dt-responsive" >
    <thead class="thead_dark">
        <tr>   
              <td class="text-right">  الإجراءات     </td> 
              <td class="text-center">  الدرجة النهائية    </td> 
              <td class="text-center">  الدرجة النهائية    </td> 
              <td class="text-center">   الدرجة الفصلية   </td>
               <td class="text-center">   المادة   </td> 
              <td class="text-center">   اسم الطالب   </td> 
        </tr>
    </thead>
    <tbody>
@foreach (var item in Model.MarkList)
{
        <tr>
         
              <td class="text-right">  
                  <div class="dropdown">
                      <button class="btn btn-secondary"
                         type="button" id="dropdownMenuButton"  data-toggle="dropdown"  aria-haspopup="true" 
                         aria-expanded="false"
                         style="background-color: #fff;border:0px;" >
                                                                       
                         <i class="fa-solid fa-ellipsis" style="color: #000;"></i>
                                                                
                      </button> 
                      <div class="dropdown-menu text-right"     aria-labelledby="dropdownMenuButton"> 
                          <a class="dropdown-item" asp-action="AddRequest" asp-controller="AllowModifications" asp-route-id="@item.Id"> 
                              طلب تعديل 
                              <i class="fa-regular fa-pen-to-square" style="padding-left: 5px;"></i> 

                            
                          </a> 
                      </div> 
                  </div> 
              </td>  

            
             @if (item.ClassId < 105)
                {
                     <td class="text-center"> @Html.DisplayFor(modelItem => item.FSkillsType.Name)      </td>
                     <td class="text-center"> @Html.DisplayFor(modelItem => item.MSkillsType.Name)      </td>
                    <td class="text-center">  @Html.DisplayFor(modelItem => item.FinalSkillsType.Name)  </td>
                }
                else
                {
                    <td class="text-center">
                        @if (item.FinalTermValue != null)
                        {
                            @Html.DisplayFor(modelItem => item.FinalTermValue)
                        }
                        else{ 
                            <p> لم يتم رصد الدرجة  </p>
                        }
                    </td>
                    <td class="text-center">
                        @if (item.MidTermValue != null)
                        {
                            @Html.DisplayFor(modelItem => item.MidTermValue)
                        }
                        else{ 
                            <p> لم يتم رصد الدرجة  </p>
                        }
                        
                    </td>
                     <td class="text-center">
                         
                         
                           @if (item.FirstTermValue != null)
                        {
                            @Html.DisplayFor(modelItem => item.FirstTermValue)
                        }
                        else{ 
                            <p> لم يتم رصد الدرجة  </p>
                        }
                     </td>
                }
             <td class="text-center"> @Html.DisplayFor(modelItem => item.Subject.Name)   </td>
             <td class="text-center"> @Html.DisplayFor(modelItem => item.Student.FullName)   </td>  
        </tr>
}
    </tbody>
</table>

 